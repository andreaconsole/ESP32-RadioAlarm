<!DOCTYPE html>
<html>
 <head>
  <title>BlindAlarm</title>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <link rel="Shortcut Icon" type="image/ico" href="favicon.ico">
  <link rel="stylesheet" type="text/css" href="lightAlarm.css">
 </head>
 <body >
  <ul>
   <li><a class="pull-left active" href="./index.html">Alarm Config</a></li>
   <li><a class="pull-left" href="./networkConfig.html">Network Config</a></li>
   <li><a class="pull-left" href="./musicConfig.html">Music source Config</a></li>
   <li><a class="pull-left" href="./about.html">About BlindAlarm</a></li>
  </ul>
  <br><br><br>
  <center>
    <h1>BlindAlarm</h1>
    <p id="currentDateTime">Current Data/Time: <span id="datetime"></span> (<span id="timesource"></span>)</p>
    Alarm time:
    <select class="select selects" onChange="handlehour(this)" id="alarmHour">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6" Selected>6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>datetime
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
    </select>
    :
    <select class="select selects" onChange="handleminutes(this)" id="alarmMinutes">
      <option value="0" Selected>00</option>
      <option value="1">05</option>
      <option value="2">10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6">30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    <br><br>
    <div class="colorbox">
    <div class="colortime">
    Purple lights: 
    <select size="1" class="select selects" style="background:purple; color:white" onChange="handlepurplehours(this)" id="purpleHours">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5" Selected>5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    :
    <select class="select selects" style="background:purple; color:white" onChange="handlepurpleminutes(this)" id="purpleMinutes">
      <option value="0" Selected>00</option>
      <option value="1">05</option>
      <option value="2">10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6">30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    before alarm time (at <big><span id="ph">00:00</span></big>)
    </div>
    <div class="colortime">
    Blue lights: 
    <select size="1" class="select selects" style="background:blue; color:white" onChange="handlebluehours(this)" id="blueHours">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3" Selected>3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    :
    <select class="select selects" style="background:blue; color:white" onChange="handleblueminutes(this)" id="blueMinutes">
      <option value="0" Selected>00</option>datetime
      <option value="1">05</option>
      <option value="2">10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6">30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    before alarm time (at <big><span id="bh">00:00</span></big>)
    </div>
    <div class="colortime">
    Green lights: 
    <select size="1" class="select selects" style="background:green" onChange="handlegreenhours(this)" id="greenHours">
      <option value="0">0</option>
      <option value="1">1</option>
      <option value="2" Selected>2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    :
    <select class="select selects" style="background:green" onChange="handlegreenminutes(this)" id="greenMinutes">
      <option value="0" Selected>00</option>
      <option value="1">05</option>
      <option value="2">10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6">30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    before alarm time (at <big><span id="gh">00:00</span></big>)
    </div>
    <div class="colortime">
    Yellow lights: 
    <select size="1" class="select selects" style="background:yellow" onChange="handleyellowhours(this)" id="yellowHours">
      <option value="0">0</option>
      <option value="1" Selected>1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    :
    <select class="select selects" style="background:yellow" onChange="handleyellowminutes(this)" id="yellowMinutes">
      <option value="0" Selected>00</option>
      <option value="1">05</option>
      <option value="2">10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6">30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    before alarm time (at <big><span id="yh">00:00</span></big>)
    </div>
    <div class="colortime">
    Orange lights: 
    <select size="1" class="select selects" style="background:orange" onChange="handleorangehours(this)" id="orangeHours">
      <option value="0" Selected>0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    :
    <select class="select selects" style="background:orange"onChange="handleorangeminutes(this)" id="orangeMinutes">
      <option value="0">00</option>
      <option value="1">05</option>
      <option value="2">10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6" Selected>30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    before alarm time (at <big><span id="oh">00:00</span></big>)
    </div>
    <div class="colortime">
    Red lights: 
    <select size="1" class="select selects" style="background:red; color:white" onChange="handleredhours(this)" id="redHours">
      <option value="0" Selected>0</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6" >6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    :
    <select class="select selects" style="background:red; color:white" onChange="handleredminutes(this)" id="redMinutes">
      <option value="0">00</option>
      <option value="1">05</option>
      <option value="2" Selected>10</option>
      <option value="3">15</option>
      <option value="4">20</option>
      <option value="5">25</option>
      <option value="6">30</option>
      <option value="7">35</option>
      <option value="8">40</option>
      <option value="9">45</option>
      <option value="10">50</option>
      <option value="11">55</option>
    </select>
    before alarm time (at <big><span id="rh">00:00</span></big>)
    </div>
    </div>
  </center> 
   <script>
   getTimeandDate(false);
   
   
   
   
   function getTimeandDate ( fromNTP )
   {
      var dt = new Date();
      document.getElementById("datetime").innerHTML =  (("0"+dt.getDate()).slice(-2))+"/"+ (("0"+(dt.getMonth()+1)).slice(-2)) +"/"+ (dt.getFullYear()) +" "+ (("0"+dt.getHours()).slice(-2)) +":"+ (("0"+dt.getMinutes()).slice(-2));
      if (fromNTP) {
        document.getElementById("timesource").innerHTML = "from a Net Time Server"
      } else {
        document.getElementById("timesource").innerHTML = "system time"
      }
    }
   
   function httpGet ( theReq )
   {
    var theUrl = "/?" + theReq + "&version=" + Math.random() ;
    var xhr = new XMLHttpRequest() ;
    xhr.onreadystatechange = function() {
      if ( xhr.readyState == XMLHttpRequest.DONE )
      {
        resultstr.value = xhr.responseText ;
      }
    }
    xhr.open ( "GET", theUrl ) ;
    xhr.send() ;
   }

   function handlepreset ( presctrl )
   {
     httpGet ( "preset=" + presctrl.value ) ;
   }

   function handletone ( tonectrl )
   {
     var theUrl = "/?" + tonectrl.id + "=" + tonectrl.value +
                  "&version=" + Math.random() ;
     var xhr = new XMLHttpRequest() ;
     xhr.onreadystatechange = function() {
       if ( xhr.readyState == XMLHttpRequest.DONE )
       {
         resultstr.value = xhr.responseText ;
       }
     }
     xhr.open ( "GET", theUrl, false ) ;
     xhr.send() ;
   }

   function setstat()
   {
     var theUrl = "/?station=" + station.value + "&version=" + Math.random() ;
     var xhr = new XMLHttpRequest() ;
     xhr.onreadystatechange = function() {
       if ( xhr.readyState == XMLHttpRequest.DONE )
       {
         resultstr.value = xhr.responseText ;
       }
     }
     xhr.open ( "GET", theUrl, false ) ;
     xhr.send() ;
   }

   function selectItemByValue(elmnt, value)
   {
     var sel = document.getElementById(elmnt) ;
     for(var i=0; i < sel.options.length; i++)
     {
       if(sel.options[i].value == value)
         sel.selectedIndex = i;
     }
   }
   
   // Fill preset list initially
   //
   var i, sel, opt, lines, parts ;
   var theUrl = "/?settings" + "&version=" + Math.random() ;
   var xhr = new XMLHttpRequest() ;
   xhr.onreadystatechange = function() {
     if ( xhr.readyState == XMLHttpRequest.DONE )
     {
       lines = xhr.responseText.split ( "\n" ) ;
       for ( i = 0 ; i < ( lines.length-1 ) ; i++ )
       {
         sel = document.getElementById ( "preset" ) ;
         parts = lines[i].split ( "=" ) ;
         if ( parts[0].indexOf ( "preset_" ) == 0 )
         {
           opt = document.createElement ( "OPTION" ) ;
           opt.value = parts[0].substring ( 7 ) ;
           opt.text = parts[1] ;
           sel.add( opt ) ;
         }
         if ( ( parts[0].indexOf ( "tone" ) == 0 ) ||
              ( parts[0] == "preset" ) )
         {
           selectItemByValue ( parts[0], parts[1] ) ;
         }
       }
     }
   }
   xhr.open ( "GET", theUrl, false ) ;
   xhr.send() ;
  </script>
 </body>
</html>
<noscript>
  <link rel="stylesheet" href="lightAlarm.css">
  Sorry, lightAlarm does not work without JavaScript!
</noscript>
